# C学习笔记
## 储存类

定义变量/函数的可见性和生命周期

有四种储存类auto register static extern

- auto。auto是默认的变量的储存类，大部分的变量都是用这种来定义。作用域是局部环境中。
- register。register是寄存器变量。默认是储存在寄存器中。
- static。static是静态变量，分为全局和非全局。(@todo 全局和非全局静态变量的区别)
- extern。extern变量，可以提供访问其他文件的声明的变量。

## 指针

指针是一个变量，其值是另外一个变量的地址。指针是一个特殊的变量，它里面存储的数值被解释成为内存里的一个地址。要搞清一个指针需要搞清指针的四方面的内容：指针的类型、指针所指向的类型、指针的值或者叫指针所指向的内存区、指针本身所占据的内存区。
- 指针的类型：把指针声明语句里的指针名字去掉，剩下的部分就是这个指针的类型
- 指针所指向的类型：把指针声明语句中的指针名字和名字左边的指针声明符*去掉，剩下的就是指针所指向的类型（在指针的算术运算中，指针所指向的类型有很大的作用）
- 指针所指向的内存区：从指针的值所代表的那个内存地址开始，长度为sizeof(指针所指向的类型)的一片内存区。（一个指针指向了某块内存区域，就相当于说该指针的值是这块内存区域的首地址）
- 指针本身所占据的内存区：用函数sizeof(指针的类型)可以测出指针本身所占据的内存区（在 32位平台里，指针本身占据了 4个字节的长度）

### 具体分析

- int p; 这是一个普通的整型变量
- int *p; 首先从P处开始,先与*结合,所以说明P是一个指针,然后再与int结合,说明指针所指向的内容的类型为int 型.所以 P是一个返回整型数据的指针
- int p[3]; 首先从P处开始,先与[]结合,说明P 是一个数组,然后与int结合,说明数组里的元素是整型的,所以 P是一个由整型数据组成的数组
- int *p[3]; 首先从P处开始,先与[]结合,因为其优先级比*高,所以P是一个数组,然后再与*结合,说明数组里的元素是指针类型,然后再与 int结合,说明指针所指向的内容的类型是整型的,所以是一个由返回整型数据的指针所组成的数组
- int (*p)[3]; 首先从P处开始,先与*结合,说明P是一个指针然后再与[]结合(与"()"这步可以忽略,只是为了改变优先级),说明指针所指向的内容是一个数组,然后再与int 结合,说明数组里的元素是整型的.所以P是一个指向由整型数据组成的数组的指针
- int **p; 首先从 P开始,先与*结合,说明P是一个指针,然后再与*结合,说明指针所指向的元素是指针,然后再与 int结合,说明该指针所指向的元素是整型数据. 所以P是一个返回指向整型数据的指针的指针
- int p(int); 从P处起,先与()结合,说明P是一个函数,然后进入()里分析,说明该函数有一个整型变量的参数然后再与外面的int 结合,说明函数的返回值是一个整型数据.所以P是一个有整型参数且返回类型为整型的函数
- int (*p)(int); 从P处开始,先与指针结合,说明P是一个指针,然后与()结合,说明指针指向的是一个函数,然后再与()里的int 结合,说明函数有一个int 型的参数,再与最外层的int 结合,说明函数的返回类型是整型,所以P是一个指向有一个整型参数且返回类型为整型的函数的指针
- int *(*p(int))[3]; 从 P开始,先与()结合,说明P是一个函数,然后进入()里面,与int结合,说明函数有一个整型变量参数,然后再与外面的*结合,说明函数返回的是一个指针,,然后到最外面一层,先与[]结合,说明返回的指针指向的是一个数组,然后再与*结合,说明数组里的元素是指针,然后再与int 结合,说明指针指向的内容是整型数据.所以P是一个参数为一个整数且返回一个指向由整型指针变量组成的数组的指针变量的函数

### 指针的算术运算

- 指针和整数进行加减：一个指针 ptrold加(减)一个整数 n后，结果是一个新的指针ptrnew，ptrnew 的类型和 ptrold 的类型相同，ptrnew 所指向的类型和 ptrold所指向的类型也相同，ptrnew的值将比 ptrold 的值增加(减少)了n乘sizeof(ptrold所指向的类型)个字节。
- 指针和指针进行加减：两个指针不能进行加法运算，这是非法操作；两个指针可以进行减法操作，但必须类型相同，一般用在数组方面。

### 运算符&和*

- &是取地址运算符，*是间接运算符。
- &a的运算结果是一个指针，指针的类型是a的类型加个*，指针所指向的类型是a的类型，指针所指向的地址嘛，那就是a的地址。
- *p的运算结果就五花八门了，总之*p 的结果是 p 所指向的东西，这个东西有这些特点：它的类型是 p指向的类型，它所占用的地址是p所指向的地址。
